version: 1.0
name: all-actuator-type-echo

actuatorSelector:
  tags:
    - os-runner

dag:
  - name: os-echo
    needs:
      - root
  - name: os-tunnel-echo
    needs:
      - os-echo
  - name: docker-echo
    needs:
      - root
  - name: docker-ssh-echo
    needs:
      - docker-echo
  - name: docker-tunnel-echo
    needs:
      - docker-ssh-echo
  - name: k8s-echo
    needs:
      - root
  - name: k8s-tunnel-echo
    needs:
      - k8s-echo
  - name: pipeline-echo
    needs:
      - k8s-tunnel-echo

tasks:
  - alias: os-echo
    type: os
    actuatorSelector:
      tags:
        - os-runner
    commands:
      - echo "hello world"

  - alias: os-tunnel-echo
    type: os
    actuatorSelector:
      tags:
        - os-runner-with-tunnel
    commands:
      - echo "hello world"

  - alias: docker-echo
    type: docker
    image: busybox
    actuatorSelector:
      tags:
        - docker-runner
    commands:
      - echo "hello world"

  - alias: docker-ssh-echo
    type: docker
    image: busybox
    actuatorSelector:
      tags:
        - docker-runner-with-ssh
    commands:
      - echo "hello world"

  - alias: docker-tunnel-echo
    type: docker
    image: busybox
    actuatorSelector:
      tags:
        - docker-runner-with-tunnel
    commands:
      - echo "hello world"

  - alias: k8s-echo
    type: k8s
    image: busybox
    actuatorSelector:
      tags:
        - k8s-runner
    commands:
      - echo "hello world"

  - alias: k8s-tunnel-echo
    type: k8s
    image: busybox
    actuatorSelector:
      tags:
        - k8s-runner-with-tunnel
    commands:
      - echo "hello world"

  - alias: pipeline-echo
    type: pipeline
    image: os-echo:1.1
