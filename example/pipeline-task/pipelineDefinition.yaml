version: 1.1
name: use-echo

contexts:
  - name: env
    type: env
  - name: file
    type: file

inputs:
  - name: env
    type: env
  - name: file
    type: file

dag:
  - name: use-echo
    needs:
      - root

tasks:
  - alias: use-echo
    type: pipeline
    image: echo:1.1
    inputs:
      - name: env
        value: ${{ inputs.env }}
      - name: file
        value: ${{ inputs.file }}
    outputs:
      - name: env
        value: env
        setToContext: env
      - name: file
        value: file
        setToContext: file

outputs:
  - name: env
    value: ${{ outputs.use-echo.env }}
  - name: file
    value: ${{ outputs.use-echo.file }}